function addCarousel(){function t(t){this.domNode=t,this.items=[],this.firstItem=null,this.lastItem=null,this.currentDomNode=null,this.liveRegionNode=null,this.currentItem=null,this.rotate=!0,this.hasFocus=!1,this.hasHover=!1}t.prototype.init=function(){var t,e,i,o,s;for(this.liveRegionNode=this.domNode.querySelector(".carousel-items"),i=this.domNode.querySelectorAll(".carousel-item"),s=0;s<i.length;s++)(o=new n(i[s],this)).init(),this.items.push(o),this.firstItem||(this.firstItem=o,this.currentDomNode=o.domNode),this.lastItem=o,(o=i[s].querySelectorAll(".carousel-image a"))&&o[0]&&(o[0].addEventListener("focus",this.handleImageLinkFocus.bind(this)),o[0].addEventListener("blur",this.handleImageLinkBlur.bind(this)));for(t=document.querySelectorAll(".carousel .controls button"),s=0;s<t.length;s++)e=t[s],new r(e,this).init();this.currentItem=this.firstItem},t.prototype.setSelected=function(t,e){"boolean"!=typeof e&&(e=!1);for(var i=0;i<this.items.length;i++)this.items[i].hide();this.currentItem=t,this.currentItem.show(),e&&this.currentItem.domNode.focus()},t.prototype.setSelectedToPreviousItem=function(t,e){"boolean"!=typeof e&&(e=!1),"object"!=typeof t&&(t=this.currentItem),t===this.firstItem?this.setSelected(this.lastItem,e):(t=this.items.indexOf(t),this.setSelected(this.items[t-1],e))},t.prototype.setSelectedToNextItem=function(t,e){"boolean"!=typeof e&&(e=!1),"object"!=typeof t&&(t=this.currentItem),t===this.lastItem?this.setSelected(this.firstItem,e):(t=this.items.indexOf(t),this.setSelected(this.items[t+1],e))},t.prototype.updateRotation=function(){this.hasHover||this.hasFocus?(this.rotate=!1,this.liveRegionNode.setAttribute("aria-live","polite")):(this.rotate=!0,this.liveRegionNode.setAttribute("aria-live","off"))},t.prototype.handleImageLinkFocus=function(){this.liveRegionNode.classList.add("focus")},t.prototype.handleImageLinkBlur=function(){this.liveRegionNode.classList.remove("focus")},window.addEventListener("load",function(){new t(document.querySelector(".carousel")).init()},!1);var n=function(t,e){this.domNode=t,this.carousel=e};n.prototype.init=function(){this.domNode.addEventListener("focusin",this.handleFocusIn.bind(this)),this.domNode.addEventListener("focusout",this.handleFocusOut.bind(this))},n.prototype.hide=function(){this.domNode.classList.remove("active")},n.prototype.show=function(){this.domNode.classList.add("active")};var r=function(t,e){this.domNode=t,this.carousel=e,this.direction="previous",this.domNode.classList.contains("next")&&(this.direction="next")};r.prototype.init=function(){this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this))},r.prototype.changeItem=function(){"previous"===this.direction?this.carousel.setSelectedToPreviousItem():this.carousel.setSelectedToNextItem()},r.prototype.handleClick=function(t){this.changeItem()},r.prototype.handleFocus=function(t){this.carousel.hasFocus=!0,this.carousel.updateRotation()},r.prototype.handleBlur=function(t){this.carousel.hasFocus=!1,this.carousel.updateRotation()},n.prototype.handleFocusIn=function(t){this.carousel.hasFocus=!0,this.carousel.updateRotation()},n.prototype.handleFocusOut=function(t){this.carousel.hasFocus=!1,this.carousel.updateRotation()}}document.addEventListener("DOMContentLoaded",function(){workWithTabs(),addCarousel(),new RadioGroup(document.getElementById("filter__list")).init();const t=document.querySelector(".user");t.addEventListener("click",function(){openDialog("dialog",this)}),document.querySelector(".modal__close").addEventListener("click",function(){closeDialog(this)}),document.querySelector(".modal__form").addEventListener("submit",function(){closeDialog(this)}),document.querySelector(".search").addEventListener("submit",function(t){t.preventDefault()});var e=!1;document.querySelector(".footer__form").addEventListener("submit",function(t){if(t.preventDefault(),!e){let t=document.createElement("div");t.className="form__status-wrapper",t.innerHTML='<img src="assets/i-success.svg"><span>Вы успешно подписались на рассылку!</span>',document.querySelector(".form__status").appendChild(t),e=!0}})});var aria=aria||{};aria.Utils=aria.Utils||{},aria.Utils.IgnoreUtilFocusChanges=!1,aria.Utils.focusFirstDescendant=function(t){for(var e=0;e<t.childNodes.length;e++){var i=t.childNodes[e];if(aria.Utils.attemptFocus(i)||aria.Utils.focusFirstDescendant(i))return!0}return!1},aria.Utils.attemptFocus=function(t){if(!aria.Utils.isFocusable(t))return!1;aria.Utils.IgnoreUtilFocusChanges=!0;try{t.focus()}catch(t){}return aria.Utils.IgnoreUtilFocusChanges=!1,document.activeElement===t},aria.OpenDialogList=aria.OpenDialogList||new Array(0),aria.getCurrentDialog=function(){if(aria.OpenDialogList&&aria.OpenDialogList.length)return aria.OpenDialogList[aria.OpenDialogList.length-1]},aria.closeCurrentDialog=function(){var t=aria.getCurrentDialog();return!!t&&(t.close(),!0)},aria.handleEscape=function(t){(t.which||t.keyCode)===aria.KeyCode.ESC&&aria.closeCurrentDialog()&&t.stopPropagation()},document.addEventListener("keyup",aria.handleEscape),aria.Dialog=function(t,e,i){if(this.dialogNode=document.getElementById(t),"string"==typeof e)this.focusAfterClosed=document.getElementById(e);else{if("object"!=typeof e)throw new Error("the focusAfterClosed parameter is required for the aria.Dialog constructor.");this.focusAfterClosed=e}this.focusFirst="string"==typeof i?document.getElementById(i):"object"==typeof i?i:null;i=document.createElement("div");this.preNode=this.dialogNode.parentNode.insertBefore(i,this.dialogNode),this.preNode.tabIndex=0;i=document.createElement("div");this.postNode=this.dialogNode.parentNode.insertBefore(i,this.dialogNode.nextSibling),(this.postNode.tabIndex=0)<aria.OpenDialogList.length&&aria.getCurrentDialog().removeListeners(),this.addListeners(),aria.OpenDialogList.push(this),this.dialogNode.className="default_dialog",this.focusFirst?this.focusFirst.focus():aria.Utils.focusFirstDescendant(this.dialogNode),this.lastFocus=document.activeElement},aria.Dialog.prototype.close=function(){aria.OpenDialogList.pop(),this.removeListeners(),aria.Utils.remove(this.preNode),aria.Utils.remove(this.postNode),this.dialogNode.className="hidden",this.focusAfterClosed.focus()},aria.Dialog.prototype.addListeners=function(){document.addEventListener("focus",this.trapFocus,!0)},aria.Dialog.prototype.removeListeners=function(){document.removeEventListener("focus",this.trapFocus,!0)},aria.Dialog.prototype.trapFocus=function(t){var e;aria.Utils.IgnoreUtilFocusChanges||((e=aria.getCurrentDialog()).dialogNode.contains(t.target)?e.lastFocus=t.target:(aria.Utils.focusFirstDescendant(e.dialogNode),e.lastFocus=document.activeElement))},window.openDialog=function(t,e,i){new aria.Dialog(t,e,i)},window.closeDialog=function(t){aria.getCurrentDialog().close()},aria.KeyCode={BACKSPACE:8,TAB:9,RETURN:13,ESC:27,SPACE:32,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},aria.Utils.remove=function(t){return t.remove&&"function"==typeof t.remove?t.remove():!(!t.parentNode||!t.parentNode.removeChild||"function"!=typeof t.parentNode.removeChild)&&t.parentNode.removeChild(t)},aria.Utils.isFocusable=function(t){if(0<t.tabIndex||0===t.tabIndex&&null!==t.getAttribute("tabIndex"))return!0;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!=t.rel;case"INPUT":return"hidden"!=t.type&&"file"!=t.type;case"BUTTON":case"SELECT":case"TEXTAREA":return!0;default:return!1}};var RadioGroup=function(t){this.domNode=t,this.radioButtons=[],this.firstRadioButton=null,this.lastRadioButton=null};RadioGroup.prototype.init=function(){this.domNode.getAttribute("role")||this.domNode.setAttribute("role","radiogroup");for(var t=this.domNode.querySelectorAll("[role=radio]"),e=0;e<t.length;e++){var i=new RadioButton(t[e],this);i.init(),this.radioButtons.push(i),this.firstRadioButton||(this.firstRadioButton=i),this.lastRadioButton=i}this.firstRadioButton.domNode.tabIndex=0},RadioGroup.prototype.setChecked=function(t){for(var e=0;e<this.radioButtons.length;e++){var i=this.radioButtons[e];i.domNode.setAttribute("aria-checked","false"),i.domNode.tabIndex=-1}t.domNode.setAttribute("aria-checked","true"),t.domNode.tabIndex=0,t.domNode.focus()},RadioGroup.prototype.setCheckedToPreviousItem=function(t){t===this.firstRadioButton?this.setChecked(this.lastRadioButton):(t=this.radioButtons.indexOf(t),this.setChecked(this.radioButtons[t-1]))},RadioGroup.prototype.setCheckedToNextItem=function(t){t===this.lastRadioButton?this.setChecked(this.firstRadioButton):(t=this.radioButtons.indexOf(t),this.setChecked(this.radioButtons[t+1]))};var RadioButton=function(t,e){this.domNode=t,this.radioGroup=e,this.keyCode=Object.freeze({return:13,space:32,enter:13,end:35,home:36,left:37,up:38,right:39,down:40})};function activateTab(t){t=t.getAttribute("data-event-date");Array.from(document.querySelectorAll(".filter")).forEach(t=>{t.classList.remove("filter_active")}),filterEvents(t)}function filterEvents(e){const t=Array.from(document.querySelectorAll(".event"));"all"===e?t.forEach(t=>{t.classList.remove("event_hide")}):t.forEach(t=>{t.getAttribute("data-event-date")!==e?t.classList.add("event_hide"):t.classList.remove("event_hide")})}function workWithTabs(){var s,n,o=document.querySelectorAll('[role="tablist"]')[0];s=document.querySelectorAll('[role="tab"]'),n=document.querySelectorAll('[role="tabpanel"]');var e,r={end:35,home:36,left:37,up:38,right:39,down:40,delete:46,enter:13,space:32},a={37:-1,38:-1,39:1,40:1};for(i=0;i<s.length;++i)e=i,s[e].addEventListener("click",d),s[e].addEventListener("keydown",u),s[e].addEventListener("keyup",c),s[e].index=e;function d(t){h(t.target,!1)}function u(t){switch(t.keyCode){case r.end:t.preventDefault(),m();break;case r.home:t.preventDefault(),f();break;case r.up:case r.down:l(t)}}function c(t){switch(t.keyCode){case r.left:case r.right:l(t);break;case r.enter:case r.space:h(t.target)}}function l(t){var e=t.keyCode,i=!1;"vertical"==o.getAttribute("aria-orientation")?e!==r.up&&e!==r.down||(t.preventDefault(),i=!0):e!==r.left&&e!==r.right||(i=!0),i&&(t=(i=t).keyCode,!a[t]||void 0!==(i=i.target).index&&(s[i.index+a[t]]?s[i.index+a[t]].focus():t===r.left||t===r.up?m():t!==r.right&&t!=r.down||f()))}function h(e,i){i=i||!0,function(){for(t=0;t<s.length;t++)s[t].setAttribute("tabindex","-1"),s[t].setAttribute("aria-selected","false");for(p=0;p<n.length;p++)n[p].setAttribute("hidden","hidden")}(),e.removeAttribute("tabindex"),e.setAttribute("aria-selected","true");var o=e.getAttribute("aria-controls");document.getElementById(o).removeAttribute("hidden"),i&&e.focus()}function f(){s[0].focus()}function m(){s[s.length-1].focus()}}RadioButton.prototype.init=function(){this.domNode.addEventListener("keydown",this.handleKeydown.bind(this)),this.domNode.addEventListener("click",this.handleClick.bind(this)),this.domNode.addEventListener("focus",this.handleFocus.bind(this)),this.domNode.addEventListener("blur",this.handleBlur.bind(this))},RadioButton.prototype.handleKeydown=function(t){var e=!1;switch(t.keyCode){case this.keyCode.space:case this.keyCode.enter:case this.keyCode.return:this.radioGroup.setChecked(this),activateTab(t.target),e=!0;break;case this.keyCode.up:this.radioGroup.setCheckedToPreviousItem(this),e=!0;break;case this.keyCode.down:this.radioGroup.setCheckedToNextItem(this),e=!0;break;case this.keyCode.left:this.radioGroup.setCheckedToPreviousItem(this),e=!0;break;case this.keyCode.right:this.radioGroup.setCheckedToNextItem(this),e=!0}e&&(t.stopPropagation(),t.preventDefault())},RadioButton.prototype.handleClick=function(t){t=t.target;this.radioGroup.setChecked(this),activateTab(t,!1)},RadioButton.prototype.handleFocus=function(){this.domNode.classList.add("focus")},RadioButton.prototype.handleBlur=function(){this.domNode.classList.remove("focus")};